<ul class="segoepr-font text-left">
  <%= render 'questions/shared_index/category',
             type_questions:     type_questions,
             category:           category,
             array_ancestor_ids: array_ancestor_ids %>
  <% binding.pry %>
  <% if @index_questions < @length_questions %>
    <% next_category = question.question_category %>
    <% array_ancestor_ids = next_category.ancestor_ids %>
    <% current_category_parent_id = category.parent_id %>
    <% binding.pry %>
    <% if array_ancestor_ids && current_category_parent_id &&
          (category_index = array_ancestor_ids.index(current_category_parent_id)) %>
      <% array_ancestor_ids = array_ancestor_ids << next_category.id %>
      <% array_ancestor_ids = array_ancestor_ids[category_index+1..-1] %>
      <% binding.pry %>
      <% if array_ancestor_ids == [] %>
        <%= render 'questions/shared_index/category',
          type_questions:     type_questions,
          category:           next_category,
          array_ancestor_ids: [] %>
      <% else %>
          <% next_category = QuestionCategory.find(array_ancestor_ids[0]) %>
          <%= render 'questions/shared_index/categories_turn_over',
                     type_questions:     type_questions,
                     category:           next_category,
                     array_ancestor_ids: array_ancestor_ids %>
      <% end %>
    <% end %>

    <!-- next_category = question.question_category -->
    <!-- next_category_parent_id = next_category.parent_id %>-->
    <!-- current_category_parent_id = category.parent_id %>-->
     <!--if next_category_parent_id && current_category_parent_id &&-->
          <!--(next_category_parent_id == current_category_parent_id) -->

    <!-- end -->
  <% end %>
</ul>
